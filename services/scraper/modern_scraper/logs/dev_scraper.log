2025-09-11 20:28:18 [scrapy.utils.log] INFO: Scrapy 2.13.3 started (bot: modern_scraper)
2025-09-11 20:28:18 [scrapy.utils.log] INFO: Versions:
{'lxml': '6.0.1',
 'libxml2': '2.14.5',
 'cssselect': '1.3.0',
 'parsel': '1.10.0',
 'w3lib': '2.3.1',
 'Twisted': '25.5.0',
 'Python': '3.11.5 (main, Aug 28 2025, 18:16:13) [Clang 16.0.0 '
           '(clang-1600.0.26.6)]',
 'pyOpenSSL': '25.1.0 (OpenSSL 3.5.2 5 Aug 2025)',
 'cryptography': '45.0.7',
 'Platform': 'macOS-15.6.1-arm64-arm-64bit'}
2025-09-11 20:28:18 [twisted] CRITICAL: Unhandled error in Deferred:
2025-09-11 20:28:18 [twisted] CRITICAL: 
Traceback (most recent call last):
  File "/Users/cristian/Desktop/Proyectos/edeka-scraper/services/scraper/services/scraper/venv/lib/python3.11/site-packages/twisted/internet/defer.py", line 1857, in _inlineCallbacks
    result = context.run(gen.send, result)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cristian/Desktop/Proyectos/edeka-scraper/services/scraper/services/scraper/venv/lib/python3.11/site-packages/scrapy/crawler.py", line 153, in crawl
    self.spider = self._create_spider(*args, **kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cristian/Desktop/Proyectos/edeka-scraper/services/scraper/services/scraper/venv/lib/python3.11/site-packages/scrapy/crawler.py", line 166, in _create_spider
    return self.spidercls.from_crawler(self, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cristian/Desktop/Proyectos/edeka-scraper/services/scraper/services/scraper/venv/lib/python3.11/site-packages/scrapy/spiders/__init__.py", line 74, in from_crawler
    spider = cls(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^
  File "/Users/cristian/Desktop/Proyectos/edeka-scraper/services/scraper/modern_scraper/spiders/test_spider.py", line 33, in __init__
    super().__init__(*args, **kwargs)
  File "/Users/cristian/Desktop/Proyectos/edeka-scraper/services/scraper/modern_scraper/spiders/base_spider.py", line 52, in __init__
    self.spider_config = self._get_spider_config()
                         ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cristian/Desktop/Proyectos/edeka-scraper/services/scraper/modern_scraper/spiders/base_spider.py", line 69, in _get_spider_config
    spider_settings = getattr(self.settings, 'SPIDER_SETTINGS', {})
                              ^^^^^^^^^^^^^
AttributeError: 'TestSpider' object has no attribute 'settings'
2025-09-11 20:29:03 [scrapy.utils.log] INFO: Scrapy 2.13.3 started (bot: modern_scraper)
2025-09-11 20:29:03 [scrapy.utils.log] INFO: Versions:
{'lxml': '6.0.1',
 'libxml2': '2.14.5',
 'cssselect': '1.3.0',
 'parsel': '1.10.0',
 'w3lib': '2.3.1',
 'Twisted': '25.5.0',
 'Python': '3.11.5 (main, Aug 28 2025, 18:16:13) [Clang 16.0.0 '
           '(clang-1600.0.26.6)]',
 'pyOpenSSL': '25.1.0 (OpenSSL 3.5.2 5 Aug 2025)',
 'cryptography': '45.0.7',
 'Platform': 'macOS-15.6.1-arm64-arm-64bit'}
2025-09-11 20:29:03 [modern_scraper.spiders.base_spider] INFO: üï∑Ô∏è test_spider spider initialized
2025-09-11 20:29:03 [modern_scraper.spiders.base_spider] INFO: üìä Development limits: {'max_items': 50, 'max_pages': 100, 'max_time_minutes': 5, 'max_sitemaps': 2, 'max_products_per_category': 10, 'test_mode': True}
2025-09-11 20:29:03 [modern_scraper.spiders.test_spider] INFO: üß™ Test spider initialized with 5 test URLs
2025-09-11 20:29:03 [modern_scraper.spiders.test_spider] INFO: üì¶ Sample products: 5
2025-09-11 20:29:03 [scrapy.addons] INFO: Enabled addons:
[]
2025-09-11 20:29:03 [py.warnings] WARNING: /Users/cristian/Desktop/Proyectos/edeka-scraper/services/scraper/services/scraper/venv/lib/python3.11/site-packages/scrapy/utils/request.py:120: ScrapyDeprecationWarning: 'REQUEST_FINGERPRINTER_IMPLEMENTATION' is a deprecated setting.
It will be removed in a future version of Scrapy.
  return cls(crawler)

2025-09-11 20:29:03 [twisted] CRITICAL: Unhandled error in Deferred:
2025-09-11 20:29:03 [twisted] CRITICAL: 
Traceback (most recent call last):
  File "/Users/cristian/Desktop/Proyectos/edeka-scraper/services/scraper/services/scraper/venv/lib/python3.11/site-packages/twisted/internet/defer.py", line 1857, in _inlineCallbacks
    result = context.run(gen.send, result)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cristian/Desktop/Proyectos/edeka-scraper/services/scraper/services/scraper/venv/lib/python3.11/site-packages/scrapy/crawler.py", line 154, in crawl
    self._apply_settings()
  File "/Users/cristian/Desktop/Proyectos/edeka-scraper/services/scraper/services/scraper/venv/lib/python3.11/site-packages/scrapy/crawler.py", line 131, in _apply_settings
    self.extensions = ExtensionManager.from_crawler(self)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cristian/Desktop/Proyectos/edeka-scraper/services/scraper/services/scraper/venv/lib/python3.11/site-packages/scrapy/middleware.py", line 77, in from_crawler
    return cls._from_settings(crawler.settings, crawler)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cristian/Desktop/Proyectos/edeka-scraper/services/scraper/services/scraper/venv/lib/python3.11/site-packages/scrapy/middleware.py", line 86, in _from_settings
    mwcls = load_object(clspath)
            ^^^^^^^^^^^^^^^^^^^^
  File "/Users/cristian/Desktop/Proyectos/edeka-scraper/services/scraper/services/scraper/venv/lib/python3.11/site-packages/scrapy/utils/misc.py", line 71, in load_object
    mod = import_module(module)
          ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cristian/.pyenv/versions/3.11.5/lib/python3.11/importlib/__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1140, in _find_and_load_unlocked
ModuleNotFoundError: No module named 'modern_scraper.extensions'
2025-09-11 20:29:42 [scrapy.utils.log] INFO: Scrapy 2.13.3 started (bot: modern_scraper)
2025-09-11 20:29:42 [scrapy.utils.log] INFO: Versions:
{'lxml': '6.0.1',
 'libxml2': '2.14.5',
 'cssselect': '1.3.0',
 'parsel': '1.10.0',
 'w3lib': '2.3.1',
 'Twisted': '25.5.0',
 'Python': '3.11.5 (main, Aug 28 2025, 18:16:13) [Clang 16.0.0 '
           '(clang-1600.0.26.6)]',
 'pyOpenSSL': '25.1.0 (OpenSSL 3.5.2 5 Aug 2025)',
 'cryptography': '45.0.7',
 'Platform': 'macOS-15.6.1-arm64-arm-64bit'}
2025-09-11 20:29:42 [modern_scraper.spiders.base_spider] INFO: üï∑Ô∏è test_spider spider initialized
2025-09-11 20:29:42 [modern_scraper.spiders.base_spider] INFO: üìä Development limits: {'max_items': 50, 'max_pages': 100, 'max_time_minutes': 5, 'max_sitemaps': 2, 'max_products_per_category': 10, 'test_mode': True}
2025-09-11 20:29:42 [modern_scraper.spiders.test_spider] INFO: üß™ Test spider initialized with 5 test URLs
2025-09-11 20:29:42 [modern_scraper.spiders.test_spider] INFO: üì¶ Sample products: 5
2025-09-11 20:29:42 [scrapy.addons] INFO: Enabled addons:
[]
2025-09-11 20:29:42 [py.warnings] WARNING: /Users/cristian/Desktop/Proyectos/edeka-scraper/services/scraper/services/scraper/venv/lib/python3.11/site-packages/scrapy/utils/request.py:120: ScrapyDeprecationWarning: 'REQUEST_FINGERPRINTER_IMPLEMENTATION' is a deprecated setting.
It will be removed in a future version of Scrapy.
  return cls(crawler)

2025-09-11 20:29:42 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.closespider.CloseSpider',
 'scrapy.extensions.logstats.LogStats',
 'scrapy.extensions.throttle.AutoThrottle']
2025-09-11 20:29:42 [scrapy.crawler] INFO: Overridden settings:
{'AUTOTHROTTLE_DEBUG': True,
 'AUTOTHROTTLE_ENABLED': True,
 'AUTOTHROTTLE_MAX_DELAY': 5,
 'AUTOTHROTTLE_START_DELAY': 1,
 'BOT_NAME': 'modern_scraper',
 'CLOSESPIDER_ERRORCOUNT': 10,
 'CLOSESPIDER_ITEMCOUNT': 50,
 'CLOSESPIDER_PAGECOUNT': 100,
 'CLOSESPIDER_TIMEOUT': 300,
 'COMMANDS_MODULE': 'modern_scraper.commands',
 'CONCURRENT_REQUESTS': 2,
 'CONCURRENT_REQUESTS_PER_DOMAIN': 1,
 'CONCURRENT_REQUESTS_PER_IP': 8,
 'COOKIES_ENABLED': False,
 'DNS_TIMEOUT': 10,
 'DOWNLOAD_DELAY': 20,
 'DOWNLOAD_MAXSIZE': 67108864,
 'DOWNLOAD_TIMEOUT': 30,
 'FEED_EXPORT_ENCODING': 'utf-8',
 'HTTPCACHE_ENABLED': True,
 'HTTPCACHE_EXPIRATION_SECS': 3600,
 'HTTPCACHE_IGNORE_HTTP_CODES': [503, 504, 505, 500, 403, 404, 408],
 'LOG_FILE': 'logs/dev_scraper.log',
 'LOG_LEVEL': 'INFO',
 'MEMUSAGE_LIMIT_MB': 512,
 'MEMUSAGE_WARNING_MB': 256,
 'NEWSPIDER_MODULE': 'modern_scraper.spiders',
 'REQUEST_FINGERPRINTER_IMPLEMENTATION': '2.7',
 'RETRY_HTTP_CODES': [500, 502, 503, 504, 408, 429],
 'ROBOTSTXT_OBEY': True,
 'SPIDER_MODULES': ['modern_scraper.spiders'],
 'TELNETCONSOLE_ENABLED': False,
 'USER_AGENT': 'edeka-scraper-dev (+http://www.yourdomain.com/bot)'}
2025-09-11 20:29:42 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats',
 'scrapy.downloadermiddlewares.httpcache.HttpCacheMiddleware']
2025-09-11 20:29:42 [py.warnings] WARNING: /Users/cristian/Desktop/Proyectos/edeka-scraper/services/scraper/services/scraper/venv/lib/python3.11/site-packages/scrapy/spidermiddlewares/offsite.py:19: ScrapyDeprecationWarning: The scrapy.spidermiddlewares.offsite module is deprecated, use scrapy.downloadermiddlewares.offsite instead.
  warnings.warn(

2025-09-11 20:29:42 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.start.StartSpiderMiddleware',
 'scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2025-09-11 20:29:42 [twisted] CRITICAL: Unhandled error in Deferred:
2025-09-11 20:29:42 [twisted] CRITICAL: 
Traceback (most recent call last):
  File "/Users/cristian/Desktop/Proyectos/edeka-scraper/services/scraper/services/scraper/venv/lib/python3.11/site-packages/twisted/internet/defer.py", line 1857, in _inlineCallbacks
    result = context.run(gen.send, result)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cristian/Desktop/Proyectos/edeka-scraper/services/scraper/services/scraper/venv/lib/python3.11/site-packages/scrapy/crawler.py", line 156, in crawl
    self.engine = self._create_engine()
                  ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cristian/Desktop/Proyectos/edeka-scraper/services/scraper/services/scraper/venv/lib/python3.11/site-packages/scrapy/crawler.py", line 169, in _create_engine
    return ExecutionEngine(self, lambda _: self.stop())
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cristian/Desktop/Proyectos/edeka-scraper/services/scraper/services/scraper/venv/lib/python3.11/site-packages/scrapy/core/engine.py", line 114, in __init__
    self.scraper: Scraper = Scraper(crawler)
                            ^^^^^^^^^^^^^^^^
  File "/Users/cristian/Desktop/Proyectos/edeka-scraper/services/scraper/services/scraper/venv/lib/python3.11/site-packages/scrapy/core/scraper.py", line 107, in __init__
    self.itemproc: ItemPipelineManager = itemproc_cls.from_crawler(crawler)
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cristian/Desktop/Proyectos/edeka-scraper/services/scraper/services/scraper/venv/lib/python3.11/site-packages/scrapy/middleware.py", line 77, in from_crawler
    return cls._from_settings(crawler.settings, crawler)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cristian/Desktop/Proyectos/edeka-scraper/services/scraper/services/scraper/venv/lib/python3.11/site-packages/scrapy/middleware.py", line 86, in _from_settings
    mwcls = load_object(clspath)
            ^^^^^^^^^^^^^^^^^^^^
  File "/Users/cristian/Desktop/Proyectos/edeka-scraper/services/scraper/services/scraper/venv/lib/python3.11/site-packages/scrapy/utils/misc.py", line 71, in load_object
    mod = import_module(module)
          ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cristian/.pyenv/versions/3.11.5/lib/python3.11/importlib/__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1126, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "/Users/cristian/Desktop/Proyectos/edeka-scraper/services/scraper/modern_scraper/pipelines/__init__.py", line 10, in <module>
    from .database import DatabasePipeline, AIIntegrationPipeline
  File "/Users/cristian/Desktop/Proyectos/edeka-scraper/services/scraper/modern_scraper/pipelines/database.py", line 19, in <module>
    from shared.database.config import db_manager
  File "/Users/cristian/Desktop/Proyectos/edeka-scraper/shared/__init__.py", line 5, in <module>
    from . import config
  File "/Users/cristian/Desktop/Proyectos/edeka-scraper/shared/config/__init__.py", line 4, in <module>
    from .settings import (
  File "/Users/cristian/Desktop/Proyectos/edeka-scraper/shared/config/settings.py", line 6, in <module>
    from pydantic import Field
ModuleNotFoundError: No module named 'pydantic'
2025-09-11 20:30:09 [scrapy.utils.log] INFO: Scrapy 2.13.3 started (bot: modern_scraper)
2025-09-11 20:30:09 [scrapy.utils.log] INFO: Versions:
{'lxml': '6.0.1',
 'libxml2': '2.14.5',
 'cssselect': '1.3.0',
 'parsel': '1.10.0',
 'w3lib': '2.3.1',
 'Twisted': '25.5.0',
 'Python': '3.11.5 (main, Aug 28 2025, 18:16:13) [Clang 16.0.0 '
           '(clang-1600.0.26.6)]',
 'pyOpenSSL': '25.1.0 (OpenSSL 3.5.2 5 Aug 2025)',
 'cryptography': '45.0.7',
 'Platform': 'macOS-15.6.1-arm64-arm-64bit'}
2025-09-11 20:30:09 [modern_scraper.spiders.base_spider] INFO: üï∑Ô∏è test_spider spider initialized
2025-09-11 20:30:09 [modern_scraper.spiders.base_spider] INFO: üìä Development limits: {'max_items': 50, 'max_pages': 100, 'max_time_minutes': 5, 'max_sitemaps': 2, 'max_products_per_category': 10, 'test_mode': True}
2025-09-11 20:30:09 [modern_scraper.spiders.test_spider] INFO: üß™ Test spider initialized with 5 test URLs
2025-09-11 20:30:09 [modern_scraper.spiders.test_spider] INFO: üì¶ Sample products: 5
2025-09-11 20:30:09 [scrapy.addons] INFO: Enabled addons:
[]
2025-09-11 20:30:09 [py.warnings] WARNING: /Users/cristian/Desktop/Proyectos/edeka-scraper/services/scraper/services/scraper/venv/lib/python3.11/site-packages/scrapy/utils/request.py:120: ScrapyDeprecationWarning: 'REQUEST_FINGERPRINTER_IMPLEMENTATION' is a deprecated setting.
It will be removed in a future version of Scrapy.
  return cls(crawler)

2025-09-11 20:30:09 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.closespider.CloseSpider',
 'scrapy.extensions.logstats.LogStats',
 'scrapy.extensions.throttle.AutoThrottle']
2025-09-11 20:30:09 [scrapy.crawler] INFO: Overridden settings:
{'AUTOTHROTTLE_DEBUG': True,
 'AUTOTHROTTLE_ENABLED': True,
 'AUTOTHROTTLE_MAX_DELAY': 5,
 'AUTOTHROTTLE_START_DELAY': 1,
 'BOT_NAME': 'modern_scraper',
 'CLOSESPIDER_ERRORCOUNT': 10,
 'CLOSESPIDER_ITEMCOUNT': 50,
 'CLOSESPIDER_PAGECOUNT': 100,
 'CLOSESPIDER_TIMEOUT': 300,
 'COMMANDS_MODULE': 'modern_scraper.commands',
 'CONCURRENT_REQUESTS': 2,
 'CONCURRENT_REQUESTS_PER_DOMAIN': 1,
 'CONCURRENT_REQUESTS_PER_IP': 8,
 'COOKIES_ENABLED': False,
 'DNS_TIMEOUT': 10,
 'DOWNLOAD_DELAY': 20,
 'DOWNLOAD_MAXSIZE': 67108864,
 'DOWNLOAD_TIMEOUT': 30,
 'FEED_EXPORT_ENCODING': 'utf-8',
 'HTTPCACHE_ENABLED': True,
 'HTTPCACHE_EXPIRATION_SECS': 3600,
 'HTTPCACHE_IGNORE_HTTP_CODES': [503, 504, 505, 500, 403, 404, 408],
 'LOG_FILE': 'logs/dev_scraper.log',
 'LOG_LEVEL': 'INFO',
 'MEMUSAGE_LIMIT_MB': 512,
 'MEMUSAGE_WARNING_MB': 256,
 'NEWSPIDER_MODULE': 'modern_scraper.spiders',
 'REQUEST_FINGERPRINTER_IMPLEMENTATION': '2.7',
 'RETRY_HTTP_CODES': [500, 502, 503, 504, 408, 429],
 'ROBOTSTXT_OBEY': True,
 'SPIDER_MODULES': ['modern_scraper.spiders'],
 'TELNETCONSOLE_ENABLED': False,
 'USER_AGENT': 'edeka-scraper-dev (+http://www.yourdomain.com/bot)'}
2025-09-11 20:30:09 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats',
 'scrapy.downloadermiddlewares.httpcache.HttpCacheMiddleware']
2025-09-11 20:30:09 [py.warnings] WARNING: /Users/cristian/Desktop/Proyectos/edeka-scraper/services/scraper/services/scraper/venv/lib/python3.11/site-packages/scrapy/spidermiddlewares/offsite.py:19: ScrapyDeprecationWarning: The scrapy.spidermiddlewares.offsite module is deprecated, use scrapy.downloadermiddlewares.offsite instead.
  warnings.warn(

2025-09-11 20:30:09 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.start.StartSpiderMiddleware',
 'scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2025-09-11 20:30:09 [twisted] CRITICAL: Unhandled error in Deferred:
2025-09-11 20:30:09 [twisted] CRITICAL: 
Traceback (most recent call last):
  File "/Users/cristian/Desktop/Proyectos/edeka-scraper/services/scraper/services/scraper/venv/lib/python3.11/site-packages/twisted/internet/defer.py", line 1857, in _inlineCallbacks
    result = context.run(gen.send, result)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cristian/Desktop/Proyectos/edeka-scraper/services/scraper/services/scraper/venv/lib/python3.11/site-packages/scrapy/crawler.py", line 156, in crawl
    self.engine = self._create_engine()
                  ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cristian/Desktop/Proyectos/edeka-scraper/services/scraper/services/scraper/venv/lib/python3.11/site-packages/scrapy/crawler.py", line 169, in _create_engine
    return ExecutionEngine(self, lambda _: self.stop())
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cristian/Desktop/Proyectos/edeka-scraper/services/scraper/services/scraper/venv/lib/python3.11/site-packages/scrapy/core/engine.py", line 114, in __init__
    self.scraper: Scraper = Scraper(crawler)
                            ^^^^^^^^^^^^^^^^
  File "/Users/cristian/Desktop/Proyectos/edeka-scraper/services/scraper/services/scraper/venv/lib/python3.11/site-packages/scrapy/core/scraper.py", line 107, in __init__
    self.itemproc: ItemPipelineManager = itemproc_cls.from_crawler(crawler)
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cristian/Desktop/Proyectos/edeka-scraper/services/scraper/services/scraper/venv/lib/python3.11/site-packages/scrapy/middleware.py", line 77, in from_crawler
    return cls._from_settings(crawler.settings, crawler)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cristian/Desktop/Proyectos/edeka-scraper/services/scraper/services/scraper/venv/lib/python3.11/site-packages/scrapy/middleware.py", line 86, in _from_settings
    mwcls = load_object(clspath)
            ^^^^^^^^^^^^^^^^^^^^
  File "/Users/cristian/Desktop/Proyectos/edeka-scraper/services/scraper/services/scraper/venv/lib/python3.11/site-packages/scrapy/utils/misc.py", line 71, in load_object
    mod = import_module(module)
          ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cristian/.pyenv/versions/3.11.5/lib/python3.11/importlib/__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1126, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "/Users/cristian/Desktop/Proyectos/edeka-scraper/services/scraper/modern_scraper/pipelines/__init__.py", line 10, in <module>
    from .database import DatabasePipeline, AIIntegrationPipeline
  File "/Users/cristian/Desktop/Proyectos/edeka-scraper/services/scraper/modern_scraper/pipelines/database.py", line 19, in <module>
    from shared.database.config import db_manager
  File "/Users/cristian/Desktop/Proyectos/edeka-scraper/shared/__init__.py", line 5, in <module>
    from . import config
  File "/Users/cristian/Desktop/Proyectos/edeka-scraper/shared/config/__init__.py", line 4, in <module>
    from .settings import (
  File "/Users/cristian/Desktop/Proyectos/edeka-scraper/shared/config/settings.py", line 6, in <module>
    from pydantic import Field
ModuleNotFoundError: No module named 'pydantic'
2025-09-11 20:30:51 [scrapy.utils.log] INFO: Scrapy 2.13.3 started (bot: modern_scraper)
2025-09-11 20:30:51 [scrapy.utils.log] INFO: Versions:
{'lxml': '6.0.1',
 'libxml2': '2.14.5',
 'cssselect': '1.3.0',
 'parsel': '1.10.0',
 'w3lib': '2.3.1',
 'Twisted': '25.5.0',
 'Python': '3.11.5 (main, Aug 28 2025, 18:16:13) [Clang 16.0.0 '
           '(clang-1600.0.26.6)]',
 'pyOpenSSL': '25.1.0 (OpenSSL 3.5.2 5 Aug 2025)',
 'cryptography': '45.0.7',
 'Platform': 'macOS-15.6.1-arm64-arm-64bit'}
2025-09-11 20:30:51 [modern_scraper.spiders.base_spider] INFO: üï∑Ô∏è test_spider spider initialized
2025-09-11 20:30:51 [modern_scraper.spiders.base_spider] INFO: üìä Development limits: {'max_items': 50, 'max_pages': 100, 'max_time_minutes': 5, 'max_sitemaps': 2, 'max_products_per_category': 10, 'test_mode': True}
2025-09-11 20:30:51 [modern_scraper.spiders.test_spider] INFO: üß™ Test spider initialized with 5 test URLs
2025-09-11 20:30:51 [modern_scraper.spiders.test_spider] INFO: üì¶ Sample products: 5
2025-09-11 20:30:51 [scrapy.addons] INFO: Enabled addons:
[]
2025-09-11 20:30:51 [py.warnings] WARNING: /Users/cristian/Desktop/Proyectos/edeka-scraper/services/scraper/services/scraper/venv/lib/python3.11/site-packages/scrapy/utils/request.py:120: ScrapyDeprecationWarning: 'REQUEST_FINGERPRINTER_IMPLEMENTATION' is a deprecated setting.
It will be removed in a future version of Scrapy.
  return cls(crawler)

2025-09-11 20:30:51 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.closespider.CloseSpider',
 'scrapy.extensions.logstats.LogStats',
 'scrapy.extensions.throttle.AutoThrottle']
2025-09-11 20:30:51 [scrapy.crawler] INFO: Overridden settings:
{'AUTOTHROTTLE_DEBUG': True,
 'AUTOTHROTTLE_ENABLED': True,
 'AUTOTHROTTLE_MAX_DELAY': 5,
 'AUTOTHROTTLE_START_DELAY': 1,
 'BOT_NAME': 'modern_scraper',
 'CLOSESPIDER_ERRORCOUNT': 10,
 'CLOSESPIDER_ITEMCOUNT': 50,
 'CLOSESPIDER_PAGECOUNT': 100,
 'CLOSESPIDER_TIMEOUT': 300,
 'COMMANDS_MODULE': 'modern_scraper.commands',
 'CONCURRENT_REQUESTS': 2,
 'CONCURRENT_REQUESTS_PER_DOMAIN': 1,
 'CONCURRENT_REQUESTS_PER_IP': 8,
 'COOKIES_ENABLED': False,
 'DNS_TIMEOUT': 10,
 'DOWNLOAD_DELAY': 20,
 'DOWNLOAD_MAXSIZE': 67108864,
 'DOWNLOAD_TIMEOUT': 30,
 'FEED_EXPORT_ENCODING': 'utf-8',
 'HTTPCACHE_ENABLED': True,
 'HTTPCACHE_EXPIRATION_SECS': 3600,
 'HTTPCACHE_IGNORE_HTTP_CODES': [503, 504, 505, 500, 403, 404, 408],
 'LOG_FILE': 'logs/dev_scraper.log',
 'LOG_LEVEL': 'INFO',
 'MEMUSAGE_LIMIT_MB': 512,
 'MEMUSAGE_WARNING_MB': 256,
 'NEWSPIDER_MODULE': 'modern_scraper.spiders',
 'REQUEST_FINGERPRINTER_IMPLEMENTATION': '2.7',
 'RETRY_HTTP_CODES': [500, 502, 503, 504, 408, 429],
 'ROBOTSTXT_OBEY': True,
 'SPIDER_MODULES': ['modern_scraper.spiders'],
 'TELNETCONSOLE_ENABLED': False,
 'USER_AGENT': 'edeka-scraper-dev (+http://www.yourdomain.com/bot)'}
2025-09-11 20:30:51 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats',
 'scrapy.downloadermiddlewares.httpcache.HttpCacheMiddleware']
2025-09-11 20:30:51 [py.warnings] WARNING: /Users/cristian/Desktop/Proyectos/edeka-scraper/services/scraper/services/scraper/venv/lib/python3.11/site-packages/scrapy/spidermiddlewares/offsite.py:19: ScrapyDeprecationWarning: The scrapy.spidermiddlewares.offsite module is deprecated, use scrapy.downloadermiddlewares.offsite instead.
  warnings.warn(

2025-09-11 20:30:51 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.start.StartSpiderMiddleware',
 'scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2025-09-11 20:30:51 [scrapy.middleware] INFO: Enabled item pipelines:
['modern_scraper.pipelines.dev_pipelines.DebugPipeline',
 'modern_scraper.pipelines.dev_pipelines.DevStoragePipeline']
2025-09-11 20:30:51 [scrapy.core.engine] INFO: Spider opened
2025-09-11 20:30:51 [py.warnings] WARNING: /Users/cristian/Desktop/Proyectos/edeka-scraper/services/scraper/services/scraper/venv/lib/python3.11/site-packages/scrapy/core/spidermw.py:433: ScrapyDeprecationWarning: modern_scraper.spiders.test_spider.TestSpider defines the deprecated start_requests() method. start_requests() has been deprecated in favor of a new method, start(), to support asynchronous code execution. start_requests() will stop being called in a future version of Scrapy. If you use Scrapy 2.13 or higher only, replace start_requests() with start(); note that start() is a coroutine (async def). If you need to maintain compatibility with lower Scrapy versions, when overriding start_requests() in a spider class, override start() as well; you can use super() to reuse the inherited start() implementation without copy-pasting. See the release notes of Scrapy 2.13 for details: https://docs.scrapy.org/en/2.13/news.html
  warn(

2025-09-11 20:30:51 [modern_scraper.pipelines.dev_pipelines] INFO: üîç Debug pipeline initialized for test_spider
2025-09-11 20:30:51 [modern_scraper.pipelines.dev_pipelines] INFO: üìù Debug log: debug/debug_test_spider_20250911_203051.log
2025-09-11 20:30:51 [modern_scraper.pipelines.dev_pipelines] INFO: üíæ Dev storage initialized: data/dev_products_20250911_203051.jsonl.gz
2025-09-11 20:30:51 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2025-09-11 20:30:51 [scrapy.extensions.memusage] INFO: Peak memory usage is 63MiB
2025-09-11 20:30:51 [modern_scraper.spiders.test_spider] INFO: üöÄ Starting test spider requests
2025-09-11 20:31:14 [scrapy.extensions.throttle] INFO: slot: httpbin.org | conc: 1 | delay: 5000 ms (-15000) | latency:22684 ms | size:    30 bytes
2025-09-11 20:31:14 [scrapy.extensions.throttle] INFO: slot: 34.238.12.187 | conc: 1 | delay:20000 ms (+0) | latency:  266 ms | size:   122 bytes
2025-09-11 20:31:43 [scrapy.extensions.throttle] INFO: slot: 34.238.12.187 | conc: 1 | delay: 5000 ms (-15000) | latency: 1781 ms | size:   429 bytes
2025-09-11 20:31:43 [modern_scraper.spiders.test_spider] INFO: ‚úÖ Generated test item: Vollmilch 3,5% - 1.29 EUR
2025-09-11 20:31:51 [scrapy.extensions.logstats] INFO: Crawled 2 pages (at 2 pages/min), scraped 1 items (at 1 items/min)
2025-09-11 20:31:51 [scrapy.extensions.memusage] INFO: Peak memory usage is 67MiB
2025-09-11 20:32:08 [scrapy.extensions.throttle] INFO: slot: 34.238.12.187 | conc: 1 | delay: 5000 ms (+0) | latency:  571 ms | size:   429 bytes
2025-09-11 20:32:08 [modern_scraper.spiders.test_spider] INFO: ‚úÖ Generated test item: Brot Vollkorn - 3.99 EUR
2025-09-11 20:32:14 [scrapy.extensions.throttle] INFO: slot: 34.238.12.187 | conc: 1 | delay: 5000 ms (+0) | latency: 1307 ms | size:   429 bytes
2025-09-11 20:32:14 [scrapy.downloadermiddlewares.retry] ERROR: Gave up retrying <GET https://httpbin.org/json?product=0> (failed 3 times): 502 Bad Gateway
2025-09-11 20:32:14 [modern_scraper.spiders.test_spider] WARNING: üö® Test request failed: Ignoring non-200 response
2025-09-11 20:32:14 [modern_scraper.spiders.test_spider] INFO: ‚úÖ Generated test item: Bananen - 1.99 EUR
2025-09-11 20:32:20 [scrapy.extensions.throttle] INFO: slot: 34.238.12.187 | conc: 1 | delay: 5000 ms (+0) | latency:  206 ms | size:   429 bytes
2025-09-11 20:32:20 [modern_scraper.spiders.test_spider] INFO: ‚úÖ Generated test item: Pasta Spaghetti - 0.99 EUR
2025-09-11 20:32:20 [scrapy.core.engine] INFO: Closing spider (finished)
2025-09-11 20:32:20 [modern_scraper.pipelines.dev_pipelines] INFO: ==================================================
2025-09-11 20:32:20 [modern_scraper.pipelines.dev_pipelines] INFO: üíæ DEV STORAGE PIPELINE SUMMARY
2025-09-11 20:32:20 [modern_scraper.pipelines.dev_pipelines] INFO: ==================================================
2025-09-11 20:32:20 [modern_scraper.pipelines.dev_pipelines] INFO: üìÅ Output file: data/dev_products_20250911_203051.jsonl.gz
2025-09-11 20:32:20 [modern_scraper.pipelines.dev_pipelines] INFO: üì¶ Items written: 4
2025-09-11 20:32:20 [modern_scraper.pipelines.dev_pipelines] INFO: üíΩ File size: 0.0 MB
2025-09-11 20:32:20 [modern_scraper.pipelines.dev_pipelines] INFO: üìä Format: jsonl
2025-09-11 20:32:20 [modern_scraper.pipelines.dev_pipelines] INFO: ==================================================
2025-09-11 20:32:20 [modern_scraper.pipelines.dev_pipelines] INFO: ==================================================
2025-09-11 20:32:20 [modern_scraper.pipelines.dev_pipelines] INFO: üîç DEBUG PIPELINE SUMMARY
2025-09-11 20:32:20 [modern_scraper.pipelines.dev_pipelines] INFO: ==================================================
2025-09-11 20:32:20 [modern_scraper.pipelines.dev_pipelines] INFO: üìä Total items processed: 4
2025-09-11 20:32:20 [modern_scraper.pipelines.dev_pipelines] INFO: üï∑Ô∏è  test_spider: 4 items
2025-09-11 20:32:20 [modern_scraper.pipelines.dev_pipelines] INFO: üìù Debug log saved: debug/debug_test_spider_20250911_203051.log
2025-09-11 20:32:20 [modern_scraper.pipelines.dev_pipelines] INFO: ==================================================
2025-09-11 20:32:20 [modern_scraper.spiders.base_spider] INFO: ==================================================
2025-09-11 20:32:20 [modern_scraper.spiders.base_spider] INFO: üï∑Ô∏è TEST_SPIDER SPIDER COMPLETED
2025-09-11 20:32:20 [modern_scraper.spiders.base_spider] INFO: ==================================================
2025-09-11 20:32:20 [modern_scraper.spiders.base_spider] INFO: üìä Reason: finished
2025-09-11 20:32:20 [modern_scraper.spiders.base_spider] INFO: ‚è±Ô∏è  Total time: 0:01:28
2025-09-11 20:32:20 [modern_scraper.spiders.base_spider] INFO: üì¶ Items scraped: 4
2025-09-11 20:32:20 [modern_scraper.spiders.base_spider] INFO: üìÑ Pages processed: 4
2025-09-11 20:32:20 [modern_scraper.spiders.base_spider] INFO: üó∫Ô∏è  Sitemaps processed: 0
2025-09-11 20:32:20 [modern_scraper.spiders.base_spider] INFO: üè∑Ô∏è  Categories found: 4
2025-09-11 20:32:20 [modern_scraper.spiders.base_spider] INFO: üí∞ Price changes: 1
2025-09-11 20:32:20 [modern_scraper.spiders.base_spider] INFO: ‚ùå Errors encountered: 1
2025-09-11 20:32:20 [modern_scraper.spiders.base_spider] INFO: ‚ö° Rate: 2.7 items/min, 2.7 pages/min
2025-09-11 20:32:20 [modern_scraper.spiders.base_spider] INFO: üè∑Ô∏è  Categories: Backwaren, Milchprodukte, Obst & Gem√ºse, Nudeln & Reis
2025-09-11 20:32:20 [modern_scraper.spiders.base_spider] INFO: ==================================================
2025-09-11 20:32:20 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 2492,
 'downloader/request_count': 8,
 'downloader/request_method_count/GET': 8,
 'downloader/response_bytes': 3528,
 'downloader/response_count': 8,
 'downloader/response_status_count/200': 5,
 'downloader/response_status_count/502': 3,
 'elapsed_time_seconds': 88.831795,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2025, 9, 11, 18, 32, 20, 541045, tzinfo=datetime.timezone.utc),
 'httpcache/firsthand': 6,
 'httpcache/hit': 2,
 'httpcache/miss': 6,
 'httpcache/store': 6,
 'item_scraped_count': 4,
 'items_per_minute': 2.7272727272727275,
 'log_count/ERROR': 1,
 'log_count/INFO': 54,
 'log_count/WARNING': 4,
 'memusage/max': 70320128,
 'memusage/startup': 66486272,
 'response_received_count': 6,
 'responses_per_minute': 4.090909090909091,
 'retry/count': 2,
 'retry/max_reached': 1,
 'retry/reason_count/502 Bad Gateway': 2,
 'robotstxt/request_count': 1,
 'robotstxt/response_count': 1,
 'robotstxt/response_status_count/200': 1,
 'scheduler/dequeued': 7,
 'scheduler/dequeued/memory': 7,
 'scheduler/enqueued': 7,
 'scheduler/enqueued/memory': 7,
 'spider/final_duration_seconds': 88,
 'spider/final_errors': 1,
 'spider/final_items': 4,
 'spider/final_pages': 4,
 'spider/items_scraped': 4,
 'spider/pages_processed': 4,
 'spider/test_errors_count': 1,
 'start_time': datetime.datetime(2025, 9, 11, 18, 30, 51, 709250, tzinfo=datetime.timezone.utc)}
2025-09-11 20:32:20 [scrapy.core.engine] INFO: Spider closed (finished)
2025-09-11 20:43:40 [scrapy.utils.log] INFO: Scrapy 2.13.3 started (bot: modern_scraper)
2025-09-11 20:43:40 [scrapy.utils.log] INFO: Versions:
{'lxml': '6.0.1',
 'libxml2': '2.14.5',
 'cssselect': '1.3.0',
 'parsel': '1.10.0',
 'w3lib': '2.3.1',
 'Twisted': '25.5.0',
 'Python': '3.11.5 (main, Aug 28 2025, 18:16:13) [Clang 16.0.0 '
           '(clang-1600.0.26.6)]',
 'pyOpenSSL': '25.1.0 (OpenSSL 3.5.2 5 Aug 2025)',
 'cryptography': '45.0.7',
 'Platform': 'macOS-15.6.1-arm64-arm-64bit'}
2025-09-11 20:43:40 [modern_scraper.spiders.base_spider] INFO: üï∑Ô∏è edeka24_spider spider initialized
2025-09-11 20:43:40 [modern_scraper.spiders.base_spider] INFO: üìä Development limits: {'max_items': 50, 'max_pages': 100, 'max_time_minutes': 5, 'max_sitemaps': 2, 'max_products_per_category': 10, 'test_mode': True}
2025-09-11 20:43:40 [modern_scraper.spiders.edeka24_spider] INFO: üè™ Edeka24 spider initialized
2025-09-11 20:43:40 [modern_scraper.spiders.edeka24_spider] INFO: üîó Starting with 2 category URLs
2025-09-11 20:43:40 [modern_scraper.spiders.edeka24_spider] INFO: üìä Dev limits: {'max_items': 50, 'max_pages': 100, 'max_time_minutes': 5, 'max_sitemaps': 2, 'max_products_per_category': 10, 'test_mode': True}
2025-09-11 20:43:40 [scrapy.addons] INFO: Enabled addons:
[]
2025-09-11 20:43:40 [py.warnings] WARNING: /Users/cristian/Desktop/Proyectos/edeka-scraper/services/scraper/services/scraper/venv/lib/python3.11/site-packages/scrapy/utils/request.py:120: ScrapyDeprecationWarning: 'REQUEST_FINGERPRINTER_IMPLEMENTATION' is a deprecated setting.
It will be removed in a future version of Scrapy.
  return cls(crawler)

2025-09-11 20:43:40 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.closespider.CloseSpider',
 'scrapy.extensions.logstats.LogStats',
 'scrapy.extensions.throttle.AutoThrottle']
2025-09-11 20:43:40 [scrapy.crawler] INFO: Overridden settings:
{'AUTOTHROTTLE_DEBUG': True,
 'AUTOTHROTTLE_ENABLED': True,
 'AUTOTHROTTLE_MAX_DELAY': 5,
 'AUTOTHROTTLE_START_DELAY': 1,
 'BOT_NAME': 'modern_scraper',
 'CLOSESPIDER_ERRORCOUNT': 10,
 'CLOSESPIDER_ITEMCOUNT': 50,
 'CLOSESPIDER_PAGECOUNT': 100,
 'CLOSESPIDER_TIMEOUT': 300,
 'COMMANDS_MODULE': 'modern_scraper.commands',
 'CONCURRENT_REQUESTS': 2,
 'CONCURRENT_REQUESTS_PER_DOMAIN': 1,
 'CONCURRENT_REQUESTS_PER_IP': 8,
 'COOKIES_ENABLED': False,
 'DNS_TIMEOUT': 10,
 'DOWNLOAD_DELAY': 20,
 'DOWNLOAD_MAXSIZE': 67108864,
 'DOWNLOAD_TIMEOUT': 30,
 'FEED_EXPORT_ENCODING': 'utf-8',
 'HTTPCACHE_ENABLED': True,
 'HTTPCACHE_EXPIRATION_SECS': 3600,
 'HTTPCACHE_IGNORE_HTTP_CODES': [503, 504, 505, 500, 403, 404, 408],
 'LOG_FILE': 'logs/dev_scraper.log',
 'LOG_LEVEL': 'INFO',
 'MEMUSAGE_LIMIT_MB': 512,
 'MEMUSAGE_WARNING_MB': 256,
 'NEWSPIDER_MODULE': 'modern_scraper.spiders',
 'REQUEST_FINGERPRINTER_IMPLEMENTATION': '2.7',
 'RETRY_HTTP_CODES': [500, 502, 503, 504, 408, 429],
 'ROBOTSTXT_OBEY': True,
 'SPIDER_MODULES': ['modern_scraper.spiders'],
 'TELNETCONSOLE_ENABLED': False,
 'USER_AGENT': 'edeka-scraper-dev (+http://www.yourdomain.com/bot)'}
2025-09-11 20:43:40 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats',
 'scrapy.downloadermiddlewares.httpcache.HttpCacheMiddleware']
2025-09-11 20:43:40 [py.warnings] WARNING: /Users/cristian/Desktop/Proyectos/edeka-scraper/services/scraper/services/scraper/venv/lib/python3.11/site-packages/scrapy/spidermiddlewares/offsite.py:19: ScrapyDeprecationWarning: The scrapy.spidermiddlewares.offsite module is deprecated, use scrapy.downloadermiddlewares.offsite instead.
  warnings.warn(

2025-09-11 20:43:40 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.start.StartSpiderMiddleware',
 'scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2025-09-11 20:43:40 [scrapy.middleware] INFO: Enabled item pipelines:
['modern_scraper.pipelines.dev_pipelines.DebugPipeline',
 'modern_scraper.pipelines.dev_pipelines.DevStoragePipeline']
2025-09-11 20:43:40 [scrapy.core.engine] INFO: Spider opened
2025-09-11 20:43:40 [py.warnings] WARNING: /Users/cristian/Desktop/Proyectos/edeka-scraper/services/scraper/services/scraper/venv/lib/python3.11/site-packages/scrapy/core/spidermw.py:433: ScrapyDeprecationWarning: modern_scraper.spiders.edeka24_spider.Edeka24Spider defines the deprecated start_requests() method. start_requests() has been deprecated in favor of a new method, start(), to support asynchronous code execution. start_requests() will stop being called in a future version of Scrapy. If you use Scrapy 2.13 or higher only, replace start_requests() with start(); note that start() is a coroutine (async def). If you need to maintain compatibility with lower Scrapy versions, when overriding start_requests() in a spider class, override start() as well; you can use super() to reuse the inherited start() implementation without copy-pasting. See the release notes of Scrapy 2.13 for details: https://docs.scrapy.org/en/2.13/news.html
  warn(

2025-09-11 20:43:40 [modern_scraper.pipelines.dev_pipelines] INFO: üîç Debug pipeline initialized for edeka24_spider
2025-09-11 20:43:40 [modern_scraper.pipelines.dev_pipelines] INFO: üìù Debug log: debug/debug_edeka24_spider_20250911_204340.log
2025-09-11 20:43:40 [modern_scraper.pipelines.dev_pipelines] INFO: üíæ Dev storage initialized: data/dev_products_20250911_204340.jsonl.gz
2025-09-11 20:43:40 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2025-09-11 20:43:40 [scrapy.extensions.memusage] INFO: Peak memory usage is 62MiB
2025-09-11 20:43:40 [modern_scraper.spiders.edeka24_spider] INFO: üöÄ Starting Edeka24 spider requests
2025-09-11 20:43:40 [scrapy.extensions.throttle] INFO: slot: www.edeka24.de | conc: 1 | delay: 5000 ms (-15000) | latency:  103 ms | size:   644 bytes
2025-09-11 20:43:41 [scrapy.extensions.throttle] INFO: slot: 193.26.98.22 | conc: 1 | delay: 5000 ms (-15000) | latency:  114 ms | size:128256 bytes
2025-09-11 20:43:41 [modern_scraper.spiders.edeka24_spider] INFO: üìÇ Processing category: Cola
2025-09-11 20:43:41 [modern_scraper.spiders.edeka24_spider] INFO: üß™ Dev mode: Limited to 0 products from Cola
2025-09-11 20:43:41 [modern_scraper.spiders.base_spider] INFO: Found 0 products in Cola | üìä edeka24_spider Progress: Items: 0, Pages: 1, Errors: 0, Elapsed: 0:00:00
2025-09-11 20:44:07 [scrapy.extensions.throttle] INFO: slot: 193.26.98.22 | conc: 1 | delay: 5000 ms (+0) | latency:  908 ms | size:135199 bytes
2025-09-11 20:44:08 [modern_scraper.spiders.edeka24_spider] INFO: üìÇ Processing category: Konserven
2025-09-11 20:44:08 [modern_scraper.spiders.edeka24_spider] INFO: üß™ Dev mode: Limited to 0 products from Konserven
2025-09-11 20:44:08 [modern_scraper.spiders.base_spider] INFO: Found 0 products in Konserven | üìä edeka24_spider Progress: Items: 0, Pages: 2, Errors: 0, Elapsed: 0:00:27
2025-09-11 20:44:08 [scrapy.core.engine] INFO: Closing spider (finished)
2025-09-11 20:44:08 [modern_scraper.pipelines.dev_pipelines] INFO: ==================================================
2025-09-11 20:44:08 [modern_scraper.pipelines.dev_pipelines] INFO: üíæ DEV STORAGE PIPELINE SUMMARY
2025-09-11 20:44:08 [modern_scraper.pipelines.dev_pipelines] INFO: ==================================================
2025-09-11 20:44:08 [modern_scraper.pipelines.dev_pipelines] INFO: üìÅ Output file: data/dev_products_20250911_204340.jsonl.gz
2025-09-11 20:44:08 [modern_scraper.pipelines.dev_pipelines] INFO: üì¶ Items written: 0
2025-09-11 20:44:08 [modern_scraper.pipelines.dev_pipelines] INFO: üíΩ File size: 0.0 MB
2025-09-11 20:44:08 [modern_scraper.pipelines.dev_pipelines] INFO: üìä Format: jsonl
2025-09-11 20:44:08 [modern_scraper.pipelines.dev_pipelines] INFO: ==================================================
2025-09-11 20:44:08 [modern_scraper.pipelines.dev_pipelines] INFO: ==================================================
2025-09-11 20:44:08 [modern_scraper.pipelines.dev_pipelines] INFO: üîç DEBUG PIPELINE SUMMARY
2025-09-11 20:44:08 [modern_scraper.pipelines.dev_pipelines] INFO: ==================================================
2025-09-11 20:44:08 [modern_scraper.pipelines.dev_pipelines] INFO: üìä Total items processed: 0
2025-09-11 20:44:08 [modern_scraper.pipelines.dev_pipelines] INFO: üï∑Ô∏è  edeka24_spider: 0 items
2025-09-11 20:44:08 [modern_scraper.pipelines.dev_pipelines] INFO: üìù Debug log saved: debug/debug_edeka24_spider_20250911_204340.log
2025-09-11 20:44:08 [modern_scraper.pipelines.dev_pipelines] INFO: ==================================================
2025-09-11 20:44:08 [modern_scraper.spiders.base_spider] INFO: ==================================================
2025-09-11 20:44:08 [modern_scraper.spiders.base_spider] INFO: üï∑Ô∏è EDEKA24_SPIDER SPIDER COMPLETED
2025-09-11 20:44:08 [modern_scraper.spiders.base_spider] INFO: ==================================================
2025-09-11 20:44:08 [modern_scraper.spiders.base_spider] INFO: üìä Reason: finished
2025-09-11 20:44:08 [modern_scraper.spiders.base_spider] INFO: ‚è±Ô∏è  Total time: 0:00:27
2025-09-11 20:44:08 [modern_scraper.spiders.base_spider] INFO: üì¶ Items scraped: 0
2025-09-11 20:44:08 [modern_scraper.spiders.base_spider] INFO: üìÑ Pages processed: 2
2025-09-11 20:44:08 [modern_scraper.spiders.base_spider] INFO: üó∫Ô∏è  Sitemaps processed: 0
2025-09-11 20:44:08 [modern_scraper.spiders.base_spider] INFO: üè∑Ô∏è  Categories found: 2
2025-09-11 20:44:08 [modern_scraper.spiders.base_spider] INFO: üí∞ Price changes: 0
2025-09-11 20:44:08 [modern_scraper.spiders.base_spider] INFO: ‚ùå Errors encountered: 0
2025-09-11 20:44:08 [modern_scraper.spiders.base_spider] INFO: ‚ö° Rate: 0.0 items/min, 4.4 pages/min
2025-09-11 20:44:08 [modern_scraper.spiders.base_spider] INFO: üè∑Ô∏è  Categories: Cola, Konserven
2025-09-11 20:44:08 [modern_scraper.spiders.base_spider] INFO: ==================================================
2025-09-11 20:44:08 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 1152,
 'downloader/request_count': 3,
 'downloader/request_method_count/GET': 3,
 'downloader/response_bytes': 265615,
 'downloader/response_count': 3,
 'downloader/response_status_count/200': 3,
 'elapsed_time_seconds': 27.188376,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2025, 9, 11, 18, 44, 8, 41845, tzinfo=datetime.timezone.utc),
 'httpcache/firsthand': 3,
 'httpcache/miss': 3,
 'httpcache/store': 3,
 'httpcompression/response_bytes': 2260840,
 'httpcompression/response_count': 3,
 'items_per_minute': 0.0,
 'log_count/INFO': 51,
 'log_count/WARNING': 3,
 'memusage/max': 65503232,
 'memusage/startup': 65503232,
 'response_received_count': 3,
 'responses_per_minute': 6.666666666666666,
 'robotstxt/request_count': 1,
 'robotstxt/response_count': 1,
 'robotstxt/response_status_count/200': 1,
 'scheduler/dequeued': 2,
 'scheduler/dequeued/memory': 2,
 'scheduler/enqueued': 2,
 'scheduler/enqueued/memory': 2,
 'spider/current_items': 0,
 'spider/current_pages': 2,
 'spider/elapsed_seconds': 27,
 'spider/final_duration_seconds': 27,
 'spider/final_errors': 0,
 'spider/final_items': 0,
 'spider/final_pages': 2,
 'spider/pages_processed': 2,
 'start_time': datetime.datetime(2025, 9, 11, 18, 43, 40, 853469, tzinfo=datetime.timezone.utc)}
2025-09-11 20:44:08 [scrapy.core.engine] INFO: Spider closed (finished)
2025-09-11 20:45:56 [scrapy.utils.log] INFO: Scrapy 2.13.3 started (bot: modern_scraper)
2025-09-11 20:45:56 [scrapy.utils.log] INFO: Versions:
{'lxml': '6.0.1',
 'libxml2': '2.14.5',
 'cssselect': '1.3.0',
 'parsel': '1.10.0',
 'w3lib': '2.3.1',
 'Twisted': '25.5.0',
 'Python': '3.11.5 (main, Aug 28 2025, 18:16:13) [Clang 16.0.0 '
           '(clang-1600.0.26.6)]',
 'pyOpenSSL': '25.1.0 (OpenSSL 3.5.2 5 Aug 2025)',
 'cryptography': '45.0.7',
 'Platform': 'macOS-15.6.1-arm64-arm-64bit'}
2025-09-11 20:45:56 [modern_scraper.spiders.base_spider] INFO: üï∑Ô∏è edeka24_spider spider initialized
2025-09-11 20:45:56 [modern_scraper.spiders.base_spider] INFO: üìä Development limits: {'max_items': 50, 'max_pages': 100, 'max_time_minutes': 5, 'max_sitemaps': 2, 'max_products_per_category': 10, 'test_mode': True}
2025-09-11 20:45:56 [modern_scraper.spiders.edeka24_spider] INFO: üè™ Edeka24 spider initialized
2025-09-11 20:45:56 [modern_scraper.spiders.edeka24_spider] INFO: üîó Starting with 2 category URLs
2025-09-11 20:45:56 [modern_scraper.spiders.edeka24_spider] INFO: üìä Dev limits: {'max_items': 50, 'max_pages': 100, 'max_time_minutes': 5, 'max_sitemaps': 2, 'max_products_per_category': 10, 'test_mode': True}
2025-09-11 20:45:56 [scrapy.addons] INFO: Enabled addons:
[]
2025-09-11 20:45:56 [py.warnings] WARNING: /Users/cristian/Desktop/Proyectos/edeka-scraper/services/scraper/services/scraper/venv/lib/python3.11/site-packages/scrapy/utils/request.py:120: ScrapyDeprecationWarning: 'REQUEST_FINGERPRINTER_IMPLEMENTATION' is a deprecated setting.
It will be removed in a future version of Scrapy.
  return cls(crawler)

2025-09-11 20:45:56 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.closespider.CloseSpider',
 'scrapy.extensions.logstats.LogStats',
 'scrapy.extensions.throttle.AutoThrottle']
2025-09-11 20:45:56 [scrapy.crawler] INFO: Overridden settings:
{'AUTOTHROTTLE_DEBUG': True,
 'AUTOTHROTTLE_ENABLED': True,
 'AUTOTHROTTLE_MAX_DELAY': 5,
 'AUTOTHROTTLE_START_DELAY': 1,
 'BOT_NAME': 'modern_scraper',
 'CLOSESPIDER_ERRORCOUNT': 10,
 'CLOSESPIDER_ITEMCOUNT': 50,
 'CLOSESPIDER_PAGECOUNT': 100,
 'CLOSESPIDER_TIMEOUT': 300,
 'COMMANDS_MODULE': 'modern_scraper.commands',
 'CONCURRENT_REQUESTS': 2,
 'CONCURRENT_REQUESTS_PER_DOMAIN': 1,
 'CONCURRENT_REQUESTS_PER_IP': 8,
 'COOKIES_ENABLED': False,
 'DNS_TIMEOUT': 10,
 'DOWNLOAD_DELAY': 20,
 'DOWNLOAD_MAXSIZE': 67108864,
 'DOWNLOAD_TIMEOUT': 30,
 'FEED_EXPORT_ENCODING': 'utf-8',
 'HTTPCACHE_ENABLED': True,
 'HTTPCACHE_EXPIRATION_SECS': 3600,
 'HTTPCACHE_IGNORE_HTTP_CODES': [503, 504, 505, 500, 403, 404, 408],
 'LOG_FILE': 'logs/dev_scraper.log',
 'LOG_LEVEL': 'INFO',
 'MEMUSAGE_LIMIT_MB': 512,
 'MEMUSAGE_WARNING_MB': 256,
 'NEWSPIDER_MODULE': 'modern_scraper.spiders',
 'REQUEST_FINGERPRINTER_IMPLEMENTATION': '2.7',
 'RETRY_HTTP_CODES': [500, 502, 503, 504, 408, 429],
 'ROBOTSTXT_OBEY': True,
 'SPIDER_MODULES': ['modern_scraper.spiders'],
 'TELNETCONSOLE_ENABLED': False,
 'USER_AGENT': 'edeka-scraper-dev (+http://www.yourdomain.com/bot)'}
2025-09-11 20:45:56 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats',
 'scrapy.downloadermiddlewares.httpcache.HttpCacheMiddleware']
2025-09-11 20:45:56 [py.warnings] WARNING: /Users/cristian/Desktop/Proyectos/edeka-scraper/services/scraper/services/scraper/venv/lib/python3.11/site-packages/scrapy/spidermiddlewares/offsite.py:19: ScrapyDeprecationWarning: The scrapy.spidermiddlewares.offsite module is deprecated, use scrapy.downloadermiddlewares.offsite instead.
  warnings.warn(

2025-09-11 20:45:56 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.start.StartSpiderMiddleware',
 'scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2025-09-11 20:45:56 [scrapy.middleware] INFO: Enabled item pipelines:
['modern_scraper.pipelines.dev_pipelines.DebugPipeline',
 'modern_scraper.pipelines.dev_pipelines.DevStoragePipeline']
2025-09-11 20:45:56 [scrapy.core.engine] INFO: Spider opened
2025-09-11 20:45:56 [py.warnings] WARNING: /Users/cristian/Desktop/Proyectos/edeka-scraper/services/scraper/services/scraper/venv/lib/python3.11/site-packages/scrapy/core/spidermw.py:433: ScrapyDeprecationWarning: modern_scraper.spiders.edeka24_spider.Edeka24Spider defines the deprecated start_requests() method. start_requests() has been deprecated in favor of a new method, start(), to support asynchronous code execution. start_requests() will stop being called in a future version of Scrapy. If you use Scrapy 2.13 or higher only, replace start_requests() with start(); note that start() is a coroutine (async def). If you need to maintain compatibility with lower Scrapy versions, when overriding start_requests() in a spider class, override start() as well; you can use super() to reuse the inherited start() implementation without copy-pasting. See the release notes of Scrapy 2.13 for details: https://docs.scrapy.org/en/2.13/news.html
  warn(

2025-09-11 20:45:56 [modern_scraper.pipelines.dev_pipelines] INFO: üîç Debug pipeline initialized for edeka24_spider
2025-09-11 20:45:56 [modern_scraper.pipelines.dev_pipelines] INFO: üìù Debug log: debug/debug_edeka24_spider_20250911_204556.log
2025-09-11 20:45:56 [modern_scraper.pipelines.dev_pipelines] INFO: üíæ Dev storage initialized: data/dev_products_20250911_204556.jsonl.gz
2025-09-11 20:45:56 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2025-09-11 20:45:56 [scrapy.extensions.memusage] INFO: Peak memory usage is 62MiB
2025-09-11 20:45:56 [modern_scraper.spiders.edeka24_spider] INFO: üöÄ Starting Edeka24 spider requests
2025-09-11 20:45:57 [scrapy.extensions.throttle] INFO: slot: www.edeka24.de | conc: 1 | delay: 5000 ms (-15000) | latency:  435 ms | size:124313 bytes
2025-09-11 20:45:57 [modern_scraper.spiders.edeka24_spider] INFO: ‚úÖ Scraped: B√§uerliche EZG Schw√§bisch Hall Demeter Bratwurst grob 200G - 5.29 EUR
2025-09-11 20:45:57 [scrapy.core.scraper] ERROR: Error processing {'availability_text': 'lieferbar innerhalb von 2-5 Werktagen',
 'category_path': ['Lebensmittel', 'Konserven'],
 'description': 'das Fleisch stammt ausschlie√ülich von sorgsam auf '
                'Demeter-H√∂fen aufgezogenen Tieren | mit alter Handwerkskunst '
                'und Naturgew√ºrzen nach traditionellem Rezept hergestellt',
 'details': {'article_id': 'djr4a435aaf78b712.87761372',
             'characteristics': ['Bio'],
             'company_info': '</span> <span>B√§uerliche Erzeugergemeinschaft '
                             'Schw√§bisch Hall AG, Haller Stra√üe 20, 74549 '
                             'Wolpertshausen, www.besh.de</span> </div>',
             'payback_points': '2 PAYBACK ¬∞Punkte'},
 'image_url': 'https://www.edeka24.de/out/pictures/generated/product/1/400_400_90/beshdemeterbratwurstgrob.jpg',
 'in_stock': 'in_stock',
 'is_new_product': True,
 'manufacturer_name': 'B√§uerliche',
 'name': 'B√§uerliche EZG Schw√§bisch Hall Demeter Bratwurst grob 200G',
 'needs_embedding': True,
 'price_amount': Decimal('5.29'),
 'price_changed': False,
 'price_currency': 'EUR',
 'product_url': 'https://www.edeka24.de/Lebensmittel/Konserven/Baeuerliche-EZG-Schwaebisch-Hall-Demeter-Bratwurst-grob-200G.html',
 'scrape_count': 1,
 'scraped_at': datetime.datetime(2025, 9, 11, 18, 45, 57, 481841),
 'sku': '3078696007',
 'store_name': 'EDEKA24',
 'store_slug': 'edeka24'}
Traceback (most recent call last):
  File "/Users/cristian/Desktop/Proyectos/edeka-scraper/services/scraper/services/scraper/venv/lib/python3.11/site-packages/scrapy/core/scraper.py", line 387, in start_itemproc
    output = await maybe_deferred_to_future(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cristian/Desktop/Proyectos/edeka-scraper/services/scraper/services/scraper/venv/lib/python3.11/site-packages/twisted/internet/defer.py", line 1092, in _runCallbacks
    current.result = callback(  # type: ignore[misc]
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cristian/Desktop/Proyectos/edeka-scraper/services/scraper/services/scraper/venv/lib/python3.11/site-packages/scrapy/utils/defer.py", line 407, in f
    return deferred_from_coro(coro_f(*coro_args, **coro_kwargs))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cristian/Desktop/Proyectos/edeka-scraper/services/scraper/modern_scraper/pipelines/dev_pipelines.py", line 67, in process_item
    f.write(f"{json.dumps(debug_info, ensure_ascii=False)}\n")
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cristian/.pyenv/versions/3.11.5/lib/python3.11/json/__init__.py", line 238, in dumps
    **kw).encode(obj)
          ^^^^^^^^^^^
  File "/Users/cristian/.pyenv/versions/3.11.5/lib/python3.11/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cristian/.pyenv/versions/3.11.5/lib/python3.11/json/encoder.py", line 258, in iterencode
    return _iterencode(o, 0)
           ^^^^^^^^^^^^^^^^^
  File "/Users/cristian/.pyenv/versions/3.11.5/lib/python3.11/json/encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type Decimal is not JSON serializable
2025-09-11 20:46:12 [scrapy.extensions.throttle] INFO: slot: www.edeka24.de | conc: 1 | delay: 5000 ms (+0) | latency:  438 ms | size:124228 bytes
2025-09-11 20:46:12 [modern_scraper.spiders.edeka24_spider] INFO: ‚úÖ Scraped: Coca-Cola Zero 0,5L - 1.39 EUR
2025-09-11 20:46:12 [scrapy.core.scraper] ERROR: Error processing {'availability_text': 'lieferbar innerhalb von 2-5 Werktagen',
 'category_path': ['Lebensmittel', 'Getr√§nke', 'Cola'],
 'description': 'Kalorienfreies, koffeinhaltiges Erfrischungsgetr√§nk, mit '
                'Pflanzenextrakten, mit S√º√üungsmitteln. Die Coca-Cola Zero '
                'Sugar - Null Zucker erkennt ihr an ihrem unverwechselbaren '
                'Look: das rote Coca-Cola Design mit dem schwarzen Mantel der '
                'Coke Zero Sugar.',
 'details': {'article_id': '0d806f53efafb40150e5f1a3adce96ae',
             'company_info': '</span> <span>Coca Cola Europacific Partners DE, '
                             'Stralauer Allee 4, 10245 Berlin</span> </div>',
             'payback_points': '1 PAYBACK ¬∞Punkt'},
 'image_url': 'https://www.edeka24.de/out/pictures/generated/product/1/400_400_90/cocacola_zero_05l_dpg.jpg',
 'in_stock': 'in_stock',
 'is_new_product': True,
 'manufacturer_name': 'Coca-Cola',
 'name': 'Coca-Cola Zero 0,5L',
 'needs_embedding': True,
 'price_amount': Decimal('1.39'),
 'price_changed': False,
 'price_currency': 'EUR',
 'product_url': 'https://www.edeka24.de/Lebensmittel/Getraenke/Cola/Coca-Cola-Zero-0-5L.html',
 'scrape_count': 1,
 'scraped_at': datetime.datetime(2025, 9, 11, 18, 46, 12, 738181),
 'sku': '1172298002',
 'store_name': 'EDEKA24',
 'store_slug': 'edeka24'}
Traceback (most recent call last):
  File "/Users/cristian/Desktop/Proyectos/edeka-scraper/services/scraper/services/scraper/venv/lib/python3.11/site-packages/scrapy/core/scraper.py", line 387, in start_itemproc
    output = await maybe_deferred_to_future(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cristian/Desktop/Proyectos/edeka-scraper/services/scraper/services/scraper/venv/lib/python3.11/site-packages/twisted/internet/defer.py", line 1092, in _runCallbacks
    current.result = callback(  # type: ignore[misc]
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cristian/Desktop/Proyectos/edeka-scraper/services/scraper/services/scraper/venv/lib/python3.11/site-packages/scrapy/utils/defer.py", line 407, in f
    return deferred_from_coro(coro_f(*coro_args, **coro_kwargs))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cristian/Desktop/Proyectos/edeka-scraper/services/scraper/modern_scraper/pipelines/dev_pipelines.py", line 67, in process_item
    f.write(f"{json.dumps(debug_info, ensure_ascii=False)}\n")
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cristian/.pyenv/versions/3.11.5/lib/python3.11/json/__init__.py", line 238, in dumps
    **kw).encode(obj)
          ^^^^^^^^^^^
  File "/Users/cristian/.pyenv/versions/3.11.5/lib/python3.11/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/cristian/.pyenv/versions/3.11.5/lib/python3.11/json/encoder.py", line 258, in iterencode
    return _iterencode(o, 0)
           ^^^^^^^^^^^^^^^^^
  File "/Users/cristian/.pyenv/versions/3.11.5/lib/python3.11/json/encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type Decimal is not JSON serializable
2025-09-11 20:46:12 [scrapy.core.engine] INFO: Closing spider (finished)
2025-09-11 20:46:12 [modern_scraper.pipelines.dev_pipelines] INFO: ==================================================
2025-09-11 20:46:12 [modern_scraper.pipelines.dev_pipelines] INFO: üíæ DEV STORAGE PIPELINE SUMMARY
2025-09-11 20:46:12 [modern_scraper.pipelines.dev_pipelines] INFO: ==================================================
2025-09-11 20:46:12 [modern_scraper.pipelines.dev_pipelines] INFO: üìÅ Output file: data/dev_products_20250911_204556.jsonl.gz
2025-09-11 20:46:12 [modern_scraper.pipelines.dev_pipelines] INFO: üì¶ Items written: 0
2025-09-11 20:46:12 [modern_scraper.pipelines.dev_pipelines] INFO: üíΩ File size: 0.0 MB
2025-09-11 20:46:12 [modern_scraper.pipelines.dev_pipelines] INFO: üìä Format: jsonl
2025-09-11 20:46:12 [modern_scraper.pipelines.dev_pipelines] INFO: ==================================================
2025-09-11 20:46:12 [modern_scraper.pipelines.dev_pipelines] INFO: ==================================================
2025-09-11 20:46:12 [modern_scraper.pipelines.dev_pipelines] INFO: üîç DEBUG PIPELINE SUMMARY
2025-09-11 20:46:12 [modern_scraper.pipelines.dev_pipelines] INFO: ==================================================
2025-09-11 20:46:12 [modern_scraper.pipelines.dev_pipelines] INFO: üìä Total items processed: 2
2025-09-11 20:46:12 [modern_scraper.pipelines.dev_pipelines] INFO: üï∑Ô∏è  edeka24_spider: 2 items
2025-09-11 20:46:12 [modern_scraper.pipelines.dev_pipelines] INFO: üìù Debug log saved: debug/debug_edeka24_spider_20250911_204556.log
2025-09-11 20:46:12 [modern_scraper.pipelines.dev_pipelines] INFO: ==================================================
2025-09-11 20:46:12 [modern_scraper.spiders.base_spider] INFO: ==================================================
2025-09-11 20:46:12 [modern_scraper.spiders.base_spider] INFO: üï∑Ô∏è EDEKA24_SPIDER SPIDER COMPLETED
2025-09-11 20:46:12 [modern_scraper.spiders.base_spider] INFO: ==================================================
2025-09-11 20:46:12 [modern_scraper.spiders.base_spider] INFO: üìä Reason: finished
2025-09-11 20:46:12 [modern_scraper.spiders.base_spider] INFO: ‚è±Ô∏è  Total time: 0:00:15
2025-09-11 20:46:12 [modern_scraper.spiders.base_spider] INFO: üì¶ Items scraped: 2
2025-09-11 20:46:12 [modern_scraper.spiders.base_spider] INFO: üìÑ Pages processed: 2
2025-09-11 20:46:12 [modern_scraper.spiders.base_spider] INFO: üó∫Ô∏è  Sitemaps processed: 0
2025-09-11 20:46:12 [modern_scraper.spiders.base_spider] INFO: üè∑Ô∏è  Categories found: 0
2025-09-11 20:46:12 [modern_scraper.spiders.base_spider] INFO: üí∞ Price changes: 0
2025-09-11 20:46:12 [modern_scraper.spiders.base_spider] INFO: ‚ùå Errors encountered: 0
2025-09-11 20:46:12 [modern_scraper.spiders.base_spider] INFO: ‚ö° Rate: 8.0 items/min, 8.0 pages/min
2025-09-11 20:46:12 [modern_scraper.spiders.base_spider] INFO: ==================================================
2025-09-11 20:46:12 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 1241,
 'downloader/request_count': 3,
 'downloader/request_method_count/GET': 3,
 'downloader/response_bytes': 250701,
 'downloader/response_count': 3,
 'downloader/response_status_count/200': 3,
 'elapsed_time_seconds': 15.904911,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2025, 9, 11, 18, 46, 12, 791870, tzinfo=datetime.timezone.utc),
 'httpcache/firsthand': 2,
 'httpcache/hit': 1,
 'httpcache/miss': 2,
 'httpcache/store': 2,
 'httpcompression/response_bytes': 1638765,
 'httpcompression/response_count': 3,
 'items_per_minute': 0.0,
 'log_count/ERROR': 2,
 'log_count/INFO': 45,
 'log_count/WARNING': 3,
 'memusage/max': 65683456,
 'memusage/startup': 65683456,
 'response_received_count': 3,
 'responses_per_minute': 12.0,
 'robotstxt/request_count': 1,
 'robotstxt/response_count': 1,
 'robotstxt/response_status_count/200': 1,
 'scheduler/dequeued': 2,
 'scheduler/dequeued/memory': 2,
 'scheduler/enqueued': 2,
 'scheduler/enqueued/memory': 2,
 'spider/final_duration_seconds': 15,
 'spider/final_errors': 0,
 'spider/final_items': 2,
 'spider/final_pages': 2,
 'spider/items_scraped': 2,
 'spider/pages_processed': 2,
 'start_time': datetime.datetime(2025, 9, 11, 18, 45, 56, 886959, tzinfo=datetime.timezone.utc)}
2025-09-11 20:46:12 [scrapy.core.engine] INFO: Spider closed (finished)
2025-09-11 20:47:41 [scrapy.utils.log] INFO: Scrapy 2.13.3 started (bot: modern_scraper)
2025-09-11 20:47:41 [scrapy.utils.log] INFO: Versions:
{'lxml': '6.0.1',
 'libxml2': '2.14.5',
 'cssselect': '1.3.0',
 'parsel': '1.10.0',
 'w3lib': '2.3.1',
 'Twisted': '25.5.0',
 'Python': '3.11.5 (main, Aug 28 2025, 18:16:13) [Clang 16.0.0 '
           '(clang-1600.0.26.6)]',
 'pyOpenSSL': '25.1.0 (OpenSSL 3.5.2 5 Aug 2025)',
 'cryptography': '45.0.7',
 'Platform': 'macOS-15.6.1-arm64-arm-64bit'}
2025-09-11 20:47:41 [modern_scraper.spiders.base_spider] INFO: üï∑Ô∏è edeka24_spider spider initialized
2025-09-11 20:47:41 [modern_scraper.spiders.base_spider] INFO: üìä Development limits: {'max_items': 50, 'max_pages': 100, 'max_time_minutes': 5, 'max_sitemaps': 2, 'max_products_per_category': 10, 'test_mode': True}
2025-09-11 20:47:41 [modern_scraper.spiders.edeka24_spider] INFO: üè™ Edeka24 spider initialized
2025-09-11 20:47:41 [modern_scraper.spiders.edeka24_spider] INFO: üîó Starting with 2 category URLs
2025-09-11 20:47:41 [modern_scraper.spiders.edeka24_spider] INFO: üìä Dev limits: {'max_items': 50, 'max_pages': 100, 'max_time_minutes': 5, 'max_sitemaps': 2, 'max_products_per_category': 10, 'test_mode': True}
2025-09-11 20:47:41 [scrapy.addons] INFO: Enabled addons:
[]
2025-09-11 20:47:41 [py.warnings] WARNING: /Users/cristian/Desktop/Proyectos/edeka-scraper/services/scraper/services/scraper/venv/lib/python3.11/site-packages/scrapy/utils/request.py:120: ScrapyDeprecationWarning: 'REQUEST_FINGERPRINTER_IMPLEMENTATION' is a deprecated setting.
It will be removed in a future version of Scrapy.
  return cls(crawler)

2025-09-11 20:47:41 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.closespider.CloseSpider',
 'scrapy.extensions.logstats.LogStats',
 'scrapy.extensions.throttle.AutoThrottle']
2025-09-11 20:47:41 [scrapy.crawler] INFO: Overridden settings:
{'AUTOTHROTTLE_DEBUG': True,
 'AUTOTHROTTLE_ENABLED': True,
 'AUTOTHROTTLE_MAX_DELAY': 5,
 'AUTOTHROTTLE_START_DELAY': 1,
 'BOT_NAME': 'modern_scraper',
 'CLOSESPIDER_ERRORCOUNT': 10,
 'CLOSESPIDER_ITEMCOUNT': 50,
 'CLOSESPIDER_PAGECOUNT': 100,
 'CLOSESPIDER_TIMEOUT': 300,
 'COMMANDS_MODULE': 'modern_scraper.commands',
 'CONCURRENT_REQUESTS': 2,
 'CONCURRENT_REQUESTS_PER_DOMAIN': 1,
 'CONCURRENT_REQUESTS_PER_IP': 8,
 'COOKIES_ENABLED': False,
 'DNS_TIMEOUT': 10,
 'DOWNLOAD_DELAY': 20,
 'DOWNLOAD_MAXSIZE': 67108864,
 'DOWNLOAD_TIMEOUT': 30,
 'FEED_EXPORT_ENCODING': 'utf-8',
 'HTTPCACHE_ENABLED': True,
 'HTTPCACHE_EXPIRATION_SECS': 3600,
 'HTTPCACHE_IGNORE_HTTP_CODES': [503, 504, 505, 500, 403, 404, 408],
 'LOG_FILE': 'logs/dev_scraper.log',
 'LOG_LEVEL': 'INFO',
 'MEMUSAGE_LIMIT_MB': 512,
 'MEMUSAGE_WARNING_MB': 256,
 'NEWSPIDER_MODULE': 'modern_scraper.spiders',
 'REQUEST_FINGERPRINTER_IMPLEMENTATION': '2.7',
 'RETRY_HTTP_CODES': [500, 502, 503, 504, 408, 429],
 'ROBOTSTXT_OBEY': True,
 'SPIDER_MODULES': ['modern_scraper.spiders'],
 'TELNETCONSOLE_ENABLED': False,
 'USER_AGENT': 'edeka-scraper-dev (+http://www.yourdomain.com/bot)'}
2025-09-11 20:47:41 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats',
 'scrapy.downloadermiddlewares.httpcache.HttpCacheMiddleware']
2025-09-11 20:47:41 [py.warnings] WARNING: /Users/cristian/Desktop/Proyectos/edeka-scraper/services/scraper/services/scraper/venv/lib/python3.11/site-packages/scrapy/spidermiddlewares/offsite.py:19: ScrapyDeprecationWarning: The scrapy.spidermiddlewares.offsite module is deprecated, use scrapy.downloadermiddlewares.offsite instead.
  warnings.warn(

2025-09-11 20:47:41 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.start.StartSpiderMiddleware',
 'scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2025-09-11 20:47:41 [scrapy.middleware] INFO: Enabled item pipelines:
['modern_scraper.pipelines.dev_pipelines.DebugPipeline',
 'modern_scraper.pipelines.dev_pipelines.DevStoragePipeline']
2025-09-11 20:47:41 [scrapy.core.engine] INFO: Spider opened
2025-09-11 20:47:41 [py.warnings] WARNING: /Users/cristian/Desktop/Proyectos/edeka-scraper/services/scraper/services/scraper/venv/lib/python3.11/site-packages/scrapy/core/spidermw.py:433: ScrapyDeprecationWarning: modern_scraper.spiders.edeka24_spider.Edeka24Spider defines the deprecated start_requests() method. start_requests() has been deprecated in favor of a new method, start(), to support asynchronous code execution. start_requests() will stop being called in a future version of Scrapy. If you use Scrapy 2.13 or higher only, replace start_requests() with start(); note that start() is a coroutine (async def). If you need to maintain compatibility with lower Scrapy versions, when overriding start_requests() in a spider class, override start() as well; you can use super() to reuse the inherited start() implementation without copy-pasting. See the release notes of Scrapy 2.13 for details: https://docs.scrapy.org/en/2.13/news.html
  warn(

2025-09-11 20:47:41 [modern_scraper.pipelines.dev_pipelines] INFO: üîç Debug pipeline initialized for edeka24_spider
2025-09-11 20:47:41 [modern_scraper.pipelines.dev_pipelines] INFO: üìù Debug log: debug/debug_edeka24_spider_20250911_204741.log
2025-09-11 20:47:41 [modern_scraper.pipelines.dev_pipelines] INFO: üíæ Dev storage initialized: data/dev_products_20250911_204741.jsonl.gz
2025-09-11 20:47:41 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2025-09-11 20:47:41 [scrapy.extensions.memusage] INFO: Peak memory usage is 63MiB
2025-09-11 20:47:41 [modern_scraper.spiders.edeka24_spider] INFO: üöÄ Starting Edeka24 spider requests
2025-09-11 20:47:41 [modern_scraper.spiders.edeka24_spider] INFO: ‚úÖ Scraped: B√§uerliche EZG Schw√§bisch Hall Demeter Bratwurst grob 200G - 5.29 EUR
2025-09-11 20:47:42 [modern_scraper.spiders.edeka24_spider] INFO: ‚úÖ Scraped: Coca-Cola Zero 0,5L - 1.39 EUR
2025-09-11 20:47:42 [scrapy.core.engine] INFO: Closing spider (finished)
2025-09-11 20:47:42 [modern_scraper.pipelines.dev_pipelines] INFO: ==================================================
2025-09-11 20:47:42 [modern_scraper.pipelines.dev_pipelines] INFO: üíæ DEV STORAGE PIPELINE SUMMARY
2025-09-11 20:47:42 [modern_scraper.pipelines.dev_pipelines] INFO: ==================================================
2025-09-11 20:47:42 [modern_scraper.pipelines.dev_pipelines] INFO: üìÅ Output file: data/dev_products_20250911_204741.jsonl.gz
2025-09-11 20:47:42 [modern_scraper.pipelines.dev_pipelines] INFO: üì¶ Items written: 2
2025-09-11 20:47:42 [modern_scraper.pipelines.dev_pipelines] INFO: üíΩ File size: 0.0 MB
2025-09-11 20:47:42 [modern_scraper.pipelines.dev_pipelines] INFO: üìä Format: jsonl
2025-09-11 20:47:42 [modern_scraper.pipelines.dev_pipelines] INFO: ==================================================
2025-09-11 20:47:42 [modern_scraper.pipelines.dev_pipelines] INFO: ==================================================
2025-09-11 20:47:42 [modern_scraper.pipelines.dev_pipelines] INFO: üîç DEBUG PIPELINE SUMMARY
2025-09-11 20:47:42 [modern_scraper.pipelines.dev_pipelines] INFO: ==================================================
2025-09-11 20:47:42 [modern_scraper.pipelines.dev_pipelines] INFO: üìä Total items processed: 2
2025-09-11 20:47:42 [modern_scraper.pipelines.dev_pipelines] INFO: üï∑Ô∏è  edeka24_spider: 2 items
2025-09-11 20:47:42 [modern_scraper.pipelines.dev_pipelines] INFO: üìù Debug log saved: debug/debug_edeka24_spider_20250911_204741.log
2025-09-11 20:47:42 [modern_scraper.pipelines.dev_pipelines] INFO: ==================================================
2025-09-11 20:47:42 [modern_scraper.spiders.base_spider] INFO: ==================================================
2025-09-11 20:47:42 [modern_scraper.spiders.base_spider] INFO: üï∑Ô∏è EDEKA24_SPIDER SPIDER COMPLETED
2025-09-11 20:47:42 [modern_scraper.spiders.base_spider] INFO: ==================================================
2025-09-11 20:47:42 [modern_scraper.spiders.base_spider] INFO: üìä Reason: finished
2025-09-11 20:47:42 [modern_scraper.spiders.base_spider] INFO: ‚è±Ô∏è  Total time: 0:00:00
2025-09-11 20:47:42 [modern_scraper.spiders.base_spider] INFO: üì¶ Items scraped: 2
2025-09-11 20:47:42 [modern_scraper.spiders.base_spider] INFO: üìÑ Pages processed: 2
2025-09-11 20:47:42 [modern_scraper.spiders.base_spider] INFO: üó∫Ô∏è  Sitemaps processed: 0
2025-09-11 20:47:42 [modern_scraper.spiders.base_spider] INFO: üè∑Ô∏è  Categories found: 0
2025-09-11 20:47:42 [modern_scraper.spiders.base_spider] INFO: üí∞ Price changes: 0
2025-09-11 20:47:42 [modern_scraper.spiders.base_spider] INFO: ‚ùå Errors encountered: 0
2025-09-11 20:47:42 [modern_scraper.spiders.base_spider] INFO: ==================================================
2025-09-11 20:47:42 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 1241,
 'downloader/request_count': 3,
 'downloader/request_method_count/GET': 3,
 'downloader/response_bytes': 250701,
 'downloader/response_count': 3,
 'downloader/response_status_count/200': 3,
 'elapsed_time_seconds': 0.179,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2025, 9, 11, 18, 47, 42, 16387, tzinfo=datetime.timezone.utc),
 'httpcache/hit': 3,
 'httpcompression/response_bytes': 1638765,
 'httpcompression/response_count': 3,
 'item_scraped_count': 2,
 'items_per_minute': None,
 'log_count/INFO': 42,
 'log_count/WARNING': 3,
 'memusage/max': 66338816,
 'memusage/startup': 66338816,
 'response_received_count': 3,
 'responses_per_minute': None,
 'robotstxt/request_count': 1,
 'robotstxt/response_count': 1,
 'robotstxt/response_status_count/200': 1,
 'scheduler/dequeued': 2,
 'scheduler/dequeued/memory': 2,
 'scheduler/enqueued': 2,
 'scheduler/enqueued/memory': 2,
 'spider/final_duration_seconds': 0,
 'spider/final_errors': 0,
 'spider/final_items': 2,
 'spider/final_pages': 2,
 'spider/items_scraped': 2,
 'spider/pages_processed': 2,
 'start_time': datetime.datetime(2025, 9, 11, 18, 47, 41, 837387, tzinfo=datetime.timezone.utc)}
2025-09-11 20:47:42 [scrapy.core.engine] INFO: Spider closed (finished)
2025-09-11 18:57:11 [scrapy.utils.log] INFO: Scrapy 2.13.3 started (bot: modern_scraper)
2025-09-11 18:57:11 [scrapy.utils.log] INFO: Versions:
{'lxml': '6.0.1',
 'libxml2': '2.14.5',
 'cssselect': '1.3.0',
 'parsel': '1.10.0',
 'w3lib': '2.3.1',
 'Twisted': '25.5.0',
 'Python': '3.11.13 (main, Sep  9 2025, 00:19:17) [GCC 14.2.0]',
 'pyOpenSSL': '25.1.0 (OpenSSL 3.5.2 5 Aug 2025)',
 'cryptography': '45.0.7',
 'Platform': 'Linux-6.10.14-linuxkit-aarch64-with-glibc2.41'}
2025-09-11 18:57:11 [modern_scraper.spiders.base_spider] INFO: üï∑Ô∏è edeka24_spider spider initialized
2025-09-11 18:57:11 [modern_scraper.spiders.base_spider] INFO: üìä Development limits: {'max_items': 50, 'max_pages': 100, 'max_time_minutes': 5, 'max_sitemaps': 2, 'max_products_per_category': 10, 'test_mode': True}
2025-09-11 18:57:11 [modern_scraper.spiders.edeka24_spider] INFO: üè™ Edeka24 spider initialized
2025-09-11 18:57:11 [modern_scraper.spiders.edeka24_spider] INFO: üîó Starting with 1 category URLs
2025-09-11 18:57:11 [modern_scraper.spiders.edeka24_spider] INFO: üìä Dev limits: {'max_items': 50, 'max_pages': 100, 'max_time_minutes': 5, 'max_sitemaps': 2, 'max_products_per_category': 10, 'test_mode': True}
2025-09-11 18:57:11 [scrapy.addons] INFO: Enabled addons:
[]
2025-09-11 18:57:11 [py.warnings] WARNING: /usr/local/lib/python3.11/site-packages/scrapy/utils/request.py:120: ScrapyDeprecationWarning: 'REQUEST_FINGERPRINTER_IMPLEMENTATION' is a deprecated setting.
It will be removed in a future version of Scrapy.
  return cls(crawler)

2025-09-11 18:57:11 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.closespider.CloseSpider',
 'scrapy.extensions.logstats.LogStats',
 'scrapy.extensions.throttle.AutoThrottle']
2025-09-11 18:57:11 [scrapy.crawler] INFO: Overridden settings:
{'AUTOTHROTTLE_DEBUG': True,
 'AUTOTHROTTLE_ENABLED': True,
 'AUTOTHROTTLE_MAX_DELAY': 5,
 'AUTOTHROTTLE_START_DELAY': 1,
 'BOT_NAME': 'modern_scraper',
 'CLOSESPIDER_ERRORCOUNT': 10,
 'CLOSESPIDER_ITEMCOUNT': 5,
 'CLOSESPIDER_PAGECOUNT': 100,
 'CLOSESPIDER_TIMEOUT': 300,
 'COMMANDS_MODULE': 'modern_scraper.commands',
 'CONCURRENT_REQUESTS': 2,
 'CONCURRENT_REQUESTS_PER_DOMAIN': 1,
 'CONCURRENT_REQUESTS_PER_IP': 8,
 'COOKIES_ENABLED': False,
 'DNS_TIMEOUT': 10,
 'DOWNLOAD_DELAY': 20,
 'DOWNLOAD_MAXSIZE': 67108864,
 'DOWNLOAD_TIMEOUT': 30,
 'FEED_EXPORT_ENCODING': 'utf-8',
 'HTTPCACHE_ENABLED': True,
 'HTTPCACHE_EXPIRATION_SECS': 3600,
 'HTTPCACHE_IGNORE_HTTP_CODES': [503, 504, 505, 500, 403, 404, 408],
 'LOG_FILE': 'logs/dev_scraper.log',
 'LOG_LEVEL': 'INFO',
 'MEMUSAGE_LIMIT_MB': 512,
 'MEMUSAGE_WARNING_MB': 256,
 'NEWSPIDER_MODULE': 'modern_scraper.spiders',
 'REQUEST_FINGERPRINTER_IMPLEMENTATION': '2.7',
 'RETRY_HTTP_CODES': [500, 502, 503, 504, 408, 429],
 'ROBOTSTXT_OBEY': True,
 'SPIDER_MODULES': ['modern_scraper.spiders'],
 'TELNETCONSOLE_ENABLED': False,
 'USER_AGENT': 'edeka-scraper-dev (+http://www.yourdomain.com/bot)'}
2025-09-11 18:57:11 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats',
 'scrapy.downloadermiddlewares.httpcache.HttpCacheMiddleware']
2025-09-11 18:57:11 [py.warnings] WARNING: /usr/local/lib/python3.11/site-packages/scrapy/spidermiddlewares/offsite.py:19: ScrapyDeprecationWarning: The scrapy.spidermiddlewares.offsite module is deprecated, use scrapy.downloadermiddlewares.offsite instead.
  warnings.warn(

2025-09-11 18:57:11 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.start.StartSpiderMiddleware',
 'scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2025-09-11 18:57:11 [scrapy.middleware] INFO: Enabled item pipelines:
['modern_scraper.pipelines.dev_pipelines.DebugPipeline',
 'modern_scraper.pipelines.dev_pipelines.DevStoragePipeline']
2025-09-11 18:57:11 [scrapy.core.engine] INFO: Spider opened
2025-09-11 18:57:11 [py.warnings] WARNING: /usr/local/lib/python3.11/site-packages/scrapy/core/spidermw.py:433: ScrapyDeprecationWarning: modern_scraper.spiders.edeka24_spider.Edeka24Spider defines the deprecated start_requests() method. start_requests() has been deprecated in favor of a new method, start(), to support asynchronous code execution. start_requests() will stop being called in a future version of Scrapy. If you use Scrapy 2.13 or higher only, replace start_requests() with start(); note that start() is a coroutine (async def). If you need to maintain compatibility with lower Scrapy versions, when overriding start_requests() in a spider class, override start() as well; you can use super() to reuse the inherited start() implementation without copy-pasting. See the release notes of Scrapy 2.13 for details: https://docs.scrapy.org/en/2.13/news.html
  warn(

2025-09-11 18:57:11 [modern_scraper.pipelines.dev_pipelines] INFO: üîç Debug pipeline initialized for edeka24_spider
2025-09-11 18:57:11 [modern_scraper.pipelines.dev_pipelines] INFO: üìù Debug log: debug/debug_edeka24_spider_20250911_185711.log
2025-09-11 18:57:11 [modern_scraper.pipelines.dev_pipelines] INFO: üíæ Dev storage initialized: data/dev_products_20250911_185711.jsonl.gz
2025-09-11 18:57:11 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2025-09-11 18:57:11 [scrapy.extensions.memusage] INFO: Peak memory usage is 64MiB
2025-09-11 18:57:11 [modern_scraper.spiders.edeka24_spider] INFO: üöÄ Starting Edeka24 spider requests
2025-09-11 18:57:12 [scrapy.extensions.throttle] INFO: slot: www.edeka24.de | conc: 1 | delay: 5000 ms (-15000) | latency:  127 ms | size:158089 bytes
2025-09-11 18:57:12 [modern_scraper.spiders.edeka24_spider] INFO: üìÑ Processing sitemap: https://www.edeka24.de/sitemaps/sitemap_0-products-0.xml
2025-09-11 18:57:12 [modern_scraper.spiders.edeka24_spider] INFO: üîó Found 0 URLs in sitemap
2025-09-11 18:57:12 [modern_scraper.spiders.edeka24_spider] INFO: üß™ Dev mode: Limited to 0 products from sitemap
2025-09-11 18:57:12 [modern_scraper.spiders.base_spider] INFO: Queued 0 products from sitemap | üìä edeka24_spider Progress: Items: 0, Pages: 1, Errors: 0, Elapsed: 0:00:00
2025-09-11 18:57:12 [scrapy.core.engine] INFO: Closing spider (finished)
2025-09-11 18:57:12 [modern_scraper.pipelines.dev_pipelines] INFO: ==================================================
2025-09-11 18:57:12 [modern_scraper.pipelines.dev_pipelines] INFO: üíæ DEV STORAGE PIPELINE SUMMARY
2025-09-11 18:57:12 [modern_scraper.pipelines.dev_pipelines] INFO: ==================================================
2025-09-11 18:57:12 [modern_scraper.pipelines.dev_pipelines] INFO: üìÅ Output file: data/dev_products_20250911_185711.jsonl.gz
2025-09-11 18:57:12 [modern_scraper.pipelines.dev_pipelines] INFO: üì¶ Items written: 0
2025-09-11 18:57:12 [modern_scraper.pipelines.dev_pipelines] INFO: üíΩ File size: 0.0 MB
2025-09-11 18:57:12 [modern_scraper.pipelines.dev_pipelines] INFO: üìä Format: jsonl
2025-09-11 18:57:12 [modern_scraper.pipelines.dev_pipelines] INFO: ==================================================
2025-09-11 18:57:12 [modern_scraper.pipelines.dev_pipelines] INFO: ==================================================
2025-09-11 18:57:12 [modern_scraper.pipelines.dev_pipelines] INFO: üîç DEBUG PIPELINE SUMMARY
2025-09-11 18:57:12 [modern_scraper.pipelines.dev_pipelines] INFO: ==================================================
2025-09-11 18:57:12 [modern_scraper.pipelines.dev_pipelines] INFO: üìä Total items processed: 0
2025-09-11 18:57:12 [modern_scraper.pipelines.dev_pipelines] INFO: üï∑Ô∏è  edeka24_spider: 0 items
2025-09-11 18:57:12 [modern_scraper.pipelines.dev_pipelines] INFO: üìù Debug log saved: debug/debug_edeka24_spider_20250911_185711.log
2025-09-11 18:57:12 [modern_scraper.pipelines.dev_pipelines] INFO: ==================================================
2025-09-11 18:57:12 [modern_scraper.spiders.base_spider] INFO: ==================================================
2025-09-11 18:57:12 [modern_scraper.spiders.base_spider] INFO: üï∑Ô∏è EDEKA24_SPIDER SPIDER COMPLETED
2025-09-11 18:57:12 [modern_scraper.spiders.base_spider] INFO: ==================================================
2025-09-11 18:57:12 [modern_scraper.spiders.base_spider] INFO: üìä Reason: finished
2025-09-11 18:57:12 [modern_scraper.spiders.base_spider] INFO: ‚è±Ô∏è  Total time: 0:00:00
2025-09-11 18:57:12 [modern_scraper.spiders.base_spider] INFO: üì¶ Items scraped: 0
2025-09-11 18:57:12 [modern_scraper.spiders.base_spider] INFO: üìÑ Pages processed: 1
2025-09-11 18:57:12 [modern_scraper.spiders.base_spider] INFO: üó∫Ô∏è  Sitemaps processed: 0
2025-09-11 18:57:12 [modern_scraper.spiders.base_spider] INFO: üè∑Ô∏è  Categories found: 0
2025-09-11 18:57:12 [modern_scraper.spiders.base_spider] INFO: üí∞ Price changes: 0
2025-09-11 18:57:12 [modern_scraper.spiders.base_spider] INFO: ‚ùå Errors encountered: 0
2025-09-11 18:57:12 [modern_scraper.spiders.base_spider] INFO: ==================================================
2025-09-11 18:57:12 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 739,
 'downloader/request_count': 2,
 'downloader/request_method_count/GET': 2,
 'downloader/response_bytes': 159718,
 'downloader/response_count': 2,
 'downloader/response_status_count/200': 2,
 'elapsed_time_seconds': 0.342381,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2025, 9, 11, 18, 57, 12, 218017, tzinfo=datetime.timezone.utc),
 'httpcache/firsthand': 1,
 'httpcache/hit': 1,
 'httpcache/miss': 1,
 'httpcache/store': 1,
 'httpcompression/response_bytes': 1419466,
 'httpcompression/response_count': 2,
 'items_per_minute': None,
 'log_count/INFO': 45,
 'log_count/WARNING': 3,
 'memusage/max': 67600384,
 'memusage/startup': 67600384,
 'response_received_count': 2,
 'responses_per_minute': None,
 'robotstxt/request_count': 1,
 'robotstxt/response_count': 1,
 'robotstxt/response_status_count/200': 1,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'spider/current_items': 0,
 'spider/current_pages': 1,
 'spider/elapsed_seconds': 0,
 'spider/final_duration_seconds': 0,
 'spider/final_errors': 0,
 'spider/final_items': 0,
 'spider/final_pages': 1,
 'spider/pages_processed': 1,
 'start_time': datetime.datetime(2025, 9, 11, 18, 57, 11, 875636, tzinfo=datetime.timezone.utc)}
2025-09-11 18:57:12 [scrapy.core.engine] INFO: Spider closed (finished)
